<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX PRACTICE</title>
</head>
<body>
    <div id="demo">
        <h2>The XMLHttRequest Object</h2>
        <button type="button" onclick="loadDoc()">Change Content</button>
    </div>
    <!-- <div>
        <h2>The XMLHttpRequest Object 2</h2>
        <p id="demo"></p>
    </div> -->



    
    <script>
        // Using XMLHttpRequest to get a page
        // function loadDoc(){
        //     const xhttp = new XMLHttpRequest(); 
        //     xhttp.onload = function (){
        //         document.getElementById("demo").innerHTML =
        //         this.responseText;
        //     }
        //     xhttp.open("GET", "ajax_info.txt");
        //     xhttp.send();
        // }

        function loadDoc(){
            const xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function (){
                 if (this.readyState == 4 && this.status == 200 ) {
                document.getElementById("demo").innerHTML =
                this.responseText;
            }
        };
            xhttp.open("GET", "ajax_info.txt");
            xhttp.send();
        }

        // The responseXML Property
        // The XMLHttpRequest object has an in-built XML parser.
        // The responseXML property returns the server response as an XML DOM object.
        // Using this property you can parse the response as an XML DOM object:
        // Example
        // Request the file cd_catalog.xml and parse the
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
        const xmlDoc = this.responseXML;
        const x = xmlDoc.getElementsByTagName("ARTIST");
        let txt = "";
        for (let i = 0; i < x.length; i++) {
            txt = txt + x[i].childNodes[0].nodeValue + "<br>";
        }
        document.getElementById("demo").innerHTML = txt;
        }
        xhttp.open("GET", "cd_catalog.xml");
        xhttp.send();
        
    </script>
</body>
</html>